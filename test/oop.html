<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
	<head>
		<meta http-equiv="content-type" content="application/xhtml+xml;charset=iso-8859-1" />
		<meta http-equiv="content-style-type" content="text/css" />
		<title>test - OOP</title>
		<script src="../src/framework/oop.js" type="text/javascript"></script>
		<script src="../src/framework/event-listener.js" type="text/javascript"></script>
		<style type="text/css">
			#holder{background-color:red; width:300px; height:200px;}
		</style>
	</head>
	<body>
		<div id="holder">&nbsp;</div>
		<script type="text/javascript">
			var obj = { a: 123,
						testBind: function(arg1){
							console.log("testBind: ", this.a ," | ", arg1);
						},
						testBindArgs: function(arg1, arg2, arg3){
							console.log("testBindArgs: ", this.a ," | ", arg1 ," | ", arg2 ," | ", arg3);
						}
				},
				ext = { b: 456,
						testCurry: function(num1, num2){
							console.log("testCurry: ", num1 ," + ", num2 ," = ", num1+num2 );
						}					
				},
				ext2 = {
					c: 789
				};
				
			//# MixIn
			console.log("obj: ", obj ," | ext: ", ext ," | ext2: ", ext2);
			var mix = MM.oop.mixIn(obj, ext, ext2);
			console.log("MM.oop.mixIn(obj, ext): ", mix); // test mixIn
			
			//## Bind
			MM.event.addListener(document.getElementById('holder'), "click", MM.oop.bind(obj.testBind, obj)); //test bind
			MM.event.addListener(document.getElementById('holder'), "click", MM.oop.bind(obj.testBindArgs, obj, "z", "x")); //test bind with arguments
			MM.event.addListener(document.getElementById('holder'), "click", MM.oop.rbind(obj.testBindArgs, obj, "z", "x")); //test bind with arguments
			
			//## Curry
			ext.testCurry(5,15);
			var curried = MM.oop.curry(ext.testCurry, 10);
			curried(3);
			curried(7);
			
			//## Create
			var created = MM.oop.createObject(mix, {d: 987});
			console.log("MM.oop.createObject(mix, {d: 01234}): ", created);
			
			//## Inherit prototype
			function Parent(){
				this.foo = "bar";
			};
			Parent.prototype.lorem = "ipsum";
			console.log("new Parent(): ", new Parent());
			function Child(){
				this.a = "abc";
			}
			console.log("new Child(): ", new Child());
			MM.oop.inheritPrototype(Child, Parent);
			console.log("MM.oop.inheritPrototype(Child, Parent): ", new Child());
			
		</script>
	</body>
</html>